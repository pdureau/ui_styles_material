{% if variant != '' and variant|lower != 'default' %}
  {% set attributes = attributes.addClass('mdc-image-list--' ~ variant|lower|replace({'_': '-'})) %}
{% endif %}

{% set gutter_size = gutter_size|default(4) %}
{% set column_count = column_count|default(5) %}

<ul{{ attributes.addClass('mdc-image-list') }}>
{% for image in images %}
  <li class="mdc-image-list__item" style="width: calc(100% / {{ column_count }} - {{ gutter_size + 1/ column_count }}px); margin: {{ gutter_size/2 }}px;">
    <div class="mdc-image-list__image-aspect-container">
    {{ image }}
    </div>
    {% set index = loop.index0 %}
    {% if labels[index] %}
    <div class="mdc-image-list__supporting">
      <span class="mdc-image-list__label">{{ labels[index] }}</span>
    </div>
    {% endif %}
  </li>
{% endfor %}
</ul>
